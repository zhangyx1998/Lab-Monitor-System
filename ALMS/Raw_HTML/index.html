<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<!--<meta http-equiv="refresh" content="60">-->
		<title>Env Monitor</title> 
		<style>
			body
			{
				-webkit-touch-callout: none;
				-webkit-user-select: none;
				-khtml-user-select: none;
				-moz-user-select: none;
				-ms-user-select: none;
				user-select: none;
			}
			input::-webkit-outer-spin-button,  
			input::-webkit-inner-spin-button{  
				-webkit-appearance: none !important;  
				margin: 0;  
			} 

			.Float_TG
			{
				position: fixed;
				bottom: 10px;
				right: 10px;
		        height: 24px;
		        width: 200px;  
		        color: #FFFFFF;
		        background: rgba(0,0,0,0.6);：
		        border-width: 10px 5px 10px 5px;  
		        border-style: solid;
		        border-radius: 10px; 
		        border-color: rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);
				overflow: ellipsis;
		    }  
			      
		    .Float_TG p
		    {  
		        margin: 0px auto;  
		        padding: 0px;  
		        text-align: center;  
		        vertical-align: middle;
		        font-size: 12px;
		        line-height: 22px;
		        letter-spacing:0px;  
		    }  

			.uni_table{
				border-style: none;
			}
			.text_box{
				text-align: center;
				color: #fff;
				border: none;
				text-align: center; 
				overflow: hidden;
				background-color: #FFFFFF;
				color: #000000
			}
			.text_box:focus{
				font-style: italic;
				outline: none;
			 }

			.text_box.L{
				font-weight: bold;
				font-size: 12px;
			}
			.text_box.M{
				font-weight: normal;
				font-size: 12px;
			}
			.text_box.S{
				font-weight: thin;
				font-size: 6px;
			}

			.button{
				line-height: 12px;
				text-align: center;
				font-weight: bold;
				color: #fff;
				border-radius: 5px;
				margin: 0px 0px 0px 0px;
				position: relative;
				align-self: center;
				overflow: hidden;
				z-index: 0;
			}
			.button:focus{
				outline: none;
			 }

			.button:nth-child(6n){
				margin-right: 0;
			}
			.button.gray{
				color: #8c96a0;
				text-shadow:1px 1px 1px #fff;
				border:1px solid #dce1e6;
				box-shadow: 0 1px 2px #fff inset,0 -1px 0 #a8abae inset;
				background: -webkit-linear-gradient(top,#f2f3f7,#e4e8ec);
				background: -moz-linear-gradient(top,#f2f3f7,#e4e8ec);
				background: linear-gradient(top,#f2f3f7,#e4e8ec);
			}
			.gray:hover{
				background: -webkit-linear-gradient(top,#fefefe,#ebeced);
				background: -moz-linear-gradient(top,#f2f3f7,#ebeced);
				background: linear-gradient(top,#f2f3f7,#ebeced);
			}
			.button.gray:focus{
					 background-color: #00ff00;
			}

			.MTR_button{
				line-height: 12px;
				text-align: center;
				font-weight: bold;
				outline: none;
				color: #fff;
				margin: 0px 0px 0px 0px;
				position: relative;
				align-self: center;
				overflow: hidden;
				z-index: 0;
			}
			.MTR_button:nth-child(6n){
				margin-right: 0;
			}
			.MTR_button.uni{
				color: #FFFFFF;
				border: none;
				background-color: rgba(0,0,0,0);
			}
			.uni:hover{
				background-color: rgba(255,255,255,0.5);
			}

			.uni:active{
				background-color: rgba(0,0,0,0.5);
			}

			.uni:focus{
      			outline: none;
				background-color: rgba(0,0,0,0);
			}
		</style>
	</head>

	<body>
		<div style="margin: 0 auto; width:100%; position: fixed; top: 0px; left: 0px; text-align: center;height: 60px; background-color: rgb(10,100,170); color: #FFFFFF; z-index:1;">
			<font face="Avenir">
				<table width="100%" border="0" align="center" rules=none cellspacing=0 cellpadding=0>
					<tr>
						<td colspan="1" align="right" valign="center" width="8%">
						</td>
						<td colspan="1" align="left" valign="center" width="54%" height="60px" style="overflow: hidden;">
							<font size="5%" >ATLAS Lab Environment Monitor System</font>
						</td>
						<td colspan="1" align="right" valign="center" height="60px" style="line-height:20px;overflow: hidden;">
							<font style="color: #DDDDDD" size="2%">
								General Status: NORMAL<br>
								LBL pixelKr project team at Bekeley
							</font>
						</td>
						<td colspan="1" align="right" valign="center" width="8%">
						</td>
					</tr>
				</table>
			</font>
		</div>

		<div class="Float_TG" id="Flaot_TG" onclick="(function(){/*getElementById('Flaot_TG').style.display='none';*/location.reload(true);})()" style="z-index: 4">  
    		<p><font face="Avenir" style="vertical-align: middle;">Last Update 2018-04-09 11:58:04</font></p>
		</div>  

		<div style="position: relative; height: 100px; display: block;" align="center">
		</div>

		<table id="TH_Table" width="85%" border="0" align="center" rules=none cellspacing=0 >
			<tr style="height:40px;background-color:#00AA88;">
				<td colspan="1" style="font-size: 14px;" align="left" width="30%">
					<font color="#FFFFFF" face="Avenir" size="3" style="font-weight: bold;">&nbsp;&nbsp;TEMPERATURE</font>
				</td>
				<td colspan="2" align="center" color="#666666"  width="40%">
					<button onClick="MOVE_LEFT(24);"  type="MTR_button" class="MTR_button uni" align="center" style="width: 40px; height: 40px;">
						<font face="Avenir" size="3" style="font-weight:normal; line-height: 36px"><<</font>
					</button>
					<button onClick="MOVE_LEFT(6);" type="MTR_button" class="MTR_button uni" align="center" style="width: 40px; height: 40px;">
						<font face="Avenir" size="3" style="font-weight:normal; line-height: 36px"><</font>
					</button>
					<button onClick="RESET_ALL();" oncontextmenu="DBG_Switch();" type="MTR_button" class="MTR_button uni" align="center" style="width: 80px; height: 40px;">
						<font face="Avenir" size="3" style="font-weight:normal; line-height: 36px">RESET</font>
					</button>
					<button onClick="MOVE_RIGHT(6);" type="MTR_button" class="MTR_button uni" align="center" style="width: 40px; height: 40px;">
						<font face="Avenir" size="3" style="font-weight:normal; line-height: 36px">></font>
					</button>
					<button onClick="MOVE_RIGHT(24);" type="MTR_button" class="MTR_button uni" align="center" style="width: 40px; height: 40px;">
						<font face="Avenir" size="3" style="font-weight:normal; line-height: 36px">>></font>
					</button>
				</td>
				<td colspan="1" style="font-size: 14px"  align="right"  width="30%">
					<font color="#FFFFFF" face="Avenir" size="3" style="font-weight: bold;">HUMIDITY&nbsp;&nbsp;</font>
				</td>
			</tr>

				<tr style="height: 1px">
					<td colspan="4" style="background-color:#FFFFFF;text-align:center;">
				</tr>
		</table>

		<center>
			<canvas id="TH_Chart" style="width:85%;">
			</canvas>
		</center>


		<div style="position: relative; height: 5px; display: block;" align="center">
		</div>

		<table width="85%" border="0" align="center" style="border-style: none; table-layout:fixed" rules=none cellspacing=0>
			<col style="width: 4% " />
			<col style="width: 0.4% " />
			<col style="width: 12% " />
			<col style="width: 12% " />
			<col />
			<col style="width: 18% " />
			<tbody>

				<tr style="height:60px">
					<td style="background-color: rgba(255,255,255,0);color: #000;text-align: left;" colspan="6">
						<font face="Avenir" size="5" style="font-weight: normal;">System Log</font>
					</td>
				</tr>	

				<tr style="height:40px">
					<td style="background-color: #EE6600;color: #FFF;text-align: center;">
						<font face="Avenir" size="3">ID</font>
					</td>
					<td style="background-color: #EE6600;color: #FFF;text-align: center;">
					</td>
					<td style="background-color: #EE6600;color: #FFF;text-align: center;">
						<font face="Avenir" size="3">SOURCE</font>
					</td>
					<td style="background-color: #EE6600;color: #FFF;text-align: center;">
						<font face="Avenir" size="3">TYPE</font>
					</td>
					<td style="background-color: #EE6600;color: #FFF;text-align: center;">
						<font face="Avenir" size="3">CONTENT</font>
					</td>
					<td style="background-color: #EE6600;color: #FFF;text-align: center;">
						<font face="Avenir" size="3">DATE</font>
					</td>
				</tr>

				<tr style="height: 8px">
					<td colspan="6" style="background-color:#FFFFFF;text-align:center;">
				</tr>

				<tr style="height: 6px">
					<td style="line-height:28px;background-color:#AAAAAA;">
					</td>
					<td style="line-height:28px;background-color:#00AA88;">
					</td>
					<td style="line-height:28px;background-color:#DDDDDD;">
					</td>
					<td style="line-height:28px;background-color:#EEEEEE;">
					</td>
					<td style="line-height:28px;background-color:#FFDDAA;">
					</td>
					<td style="line-height:28px;background-color:#DDDDDD;">
					</td>
				</tr>
				<tr>
						<td style="line-height:28px;background-color:#AAAAAA;text-align: center; color: #fff;">
							<font face="Avenir" size="3">175</font>
						</td>
						<td style="line-height:28px;background-color:#00AA88;text-align: center; color: #fff;">
						</td>
						<td style="line-height:28px;background-color:#DDDDDD;text-align: center; color: #000;">
							<font face="Avenir" size="3">VERSION</font>
						</td>
						<td style="line-height:28px;background-color:#EEEEEE;text-align: center; color: #000;">
							<font face="Avenir" size="3">UPDATE</font>
						</td>
						<td style="line-height:28px;background-color:#FFDDAA;text-align: center; color: #000;">
							<font face="Avenir" size="3">From V1.01 To V1.02</font>
						</td>
						<td style="line-height:28px;background-color:#DDDDDD;text-align: center; color: #000000;">
							<font face="Avenir" size="3">2018-04-09 11:24:01</font>
						</td>
				</tr>
				<tr style="height: 6px">
					<td style="line-height:28px;background-color:#AAAAAA;">
					</td>
					<td style="line-height:28px;background-color:#00AA88;">
					</td>
					<td style="line-height:28px;background-color:#DDDDDD;">
					</td>
					<td style="line-height:28px;background-color:#EEEEEE;">
					</td>
					<td style="line-height:28px;background-color:#FFDDAA;">
					</td>
					<td style="line-height:28px;background-color:#DDDDDD;">
					</td>
				</tr>
				<tr style="height: 8px">
					<td colspan="6" style="background-color:#FFFFFF;text-align:center;">
				</tr>
				<tr style="height: 6px">
					<td style="line-height:28px;background-color:#AAAAAA;">
					</td>
					<td style="line-height:28px;background-color:#00AA88;">
					</td>
					<td style="line-height:28px;background-color:#DDDDDD;">
					</td>
					<td style="line-height:28px;background-color:#EEEEEE;">
					</td>
					<td style="line-height:28px;background-color:#FFDDAA;">
					</td>
					<td style="line-height:28px;background-color:#DDDDDD;">
					</td>
				</tr>
				<tr>
						<td style="line-height:28px;background-color:#AAAAAA;text-align: center; color: #fff;">
							<font face="Avenir" size="3">24</font>
						</td>
						<td style="line-height:28px;background-color:#00AA88;text-align: center; color: #fff;">
						</td>
						<td style="line-height:28px;background-color:#DDDDDD;text-align: center; color: #000;">
							<font face="Avenir" size="3">VERSION</font>
						</td>
						<td style="line-height:28px;background-color:#EEEEEE;text-align: center; color: #000;">
							<font face="Avenir" size="3">Version_Update</font>
						</td>
						<td style="line-height:28px;background-color:#FFDDAA;text-align: center; color: #000;">
							<font face="Avenir" size="3">V1.01</font>
						</td>
						<td style="line-height:28px;background-color:#DDDDDD;text-align: center; color: #000000;">
							<font face="Avenir" size="3">2018-04-03 17:22:01</font>
						</td>
				</tr>
				<tr style="height: 6px">
					<td style="line-height:28px;background-color:#AAAAAA;">
					</td>
					<td style="line-height:28px;background-color:#00AA88;">
					</td>
					<td style="line-height:28px;background-color:#DDDDDD;">
					</td>
					<td style="line-height:28px;background-color:#EEEEEE;">
					</td>
					<td style="line-height:28px;background-color:#FFDDAA;">
					</td>
					<td style="line-height:28px;background-color:#DDDDDD;">
					</td>
				</tr>
				<tr style="height: 8px">
					<td colspan="6" style="background-color:#FFFFFF;text-align:center;">
				</tr>
				<tr style="height: 6px">
					<td style="line-height:28px;background-color:#AAAAAA;">
					</td>
					<td style="line-height:28px;background-color:#00AA88;">
					</td>
					<td style="line-height:28px;background-color:#DDDDDD;">
					</td>
					<td style="line-height:28px;background-color:#EEEEEE;">
					</td>
					<td style="line-height:28px;background-color:#FFDDAA;">
					</td>
					<td style="line-height:28px;background-color:#DDDDDD;">
					</td>
				</tr>
				<tr>
						<td style="line-height:28px;background-color:#AAAAAA;text-align: center; color: #fff;">
							<font face="Avenir" size="3">1</font>
						</td>
						<td style="line-height:28px;background-color:#00AA88;text-align: center; color: #fff;">
						</td>
						<td style="line-height:28px;background-color:#DDDDDD;text-align: center; color: #000;">
							<font face="Avenir" size="3">VERSION</font>
						</td>
						<td style="line-height:28px;background-color:#EEEEEE;text-align: center; color: #000;">
							<font face="Avenir" size="3">Current_Version</font>
						</td>
						<td style="line-height:28px;background-color:#FFDDAA;text-align: center; color: #000;">
							<font face="Avenir" size="3">V1.02</font>
						</td>
						<td style="line-height:28px;background-color:#DDDDDD;text-align: center; color: #000000;">
							<font face="Avenir" size="3">2018-04-09 11:24:01</font>
						</td>
				</tr>
				<tr style="height: 6px">
					<td style="line-height:28px;background-color:#AAAAAA;">
					</td>
					<td style="line-height:28px;background-color:#00AA88;">
					</td>
					<td style="line-height:28px;background-color:#DDDDDD;">
					</td>
					<td style="line-height:28px;background-color:#EEEEEE;">
					</td>
					<td style="line-height:28px;background-color:#FFDDAA;">
					</td>
					<td style="line-height:28px;background-color:#DDDDDD;">
					</td>
				</tr>
				<tr style="height: 8px">
					<td colspan="6" style="background-color:#FFFFFF;text-align:center;">
				</tr>
				<tr style="height: 3px">
					<td colspan="6" style="background-color:#FF6600;text-align:center;">
				</tr>		 
				<tr style="height: 10px">
					<td colspan="6" style="background-color:#FFFFFF;text-align:center;">
				</tr>	
				<tr style="height: 30px">
					<td colspan="6" style="background-color:#FFFFFF;text-align:center;">
						<a href="Version-Gallery.html" style="color: #666666;">
							<font face="Avenir" size="3">Click HERE For Verison Gallery</font>
						</a>
				</tr>
			</tbody>
		</table>


		<div style="margin: 0 auto; width:85%; position: relative; border:none; text-align: center;height: 80px; background-color: #FFFFFF; color: #666; z-index:1; padding: 0px; vertical-align: middle;">
			<font face="Avenir">
				<div style="margin: 0 auto; width: 100% ; height: 100% ; position: absolute; left: 0px; top: 0px; z-index: 2; text-align: center; vertical-align: middle;">
					<font style="line-height: 16px; font-weight: normal; vertical-align: middle;" align="center" size="3"><br>By Yuxuan Zhang
					</font>
					<font style="line-height: 16px; font-weight: bold; vertical-align: middle;" align="center" size="1"><br>APRIL 2018</font>
				</div>
				<div style="margin: 0 auto; width: 100% ; height: 100% ; position: absolute; left: 0px; top: 0px; z-index: 3">
					<a href="https://yuxuanzhang.myportfolio.com" style="display:block; width:100%; height:100%;"></a>
				</div>
			</font>
		</div>

		<!--######################################################################################-->
		<script type="text/javascript">	
			//DATA
			TEMP_Buf=new Array(
				22.6857,
				22.5749,
				22.1621,
				21.6787,
				21.3162,
				20.8731,
				20.9134,
				21.0040,
				21.0242,
				20.9738,
				21.1853,
				21.3162,
				21.3766,
				21.4572,
				21.5276,
				21.6384,
				21.8197,
				22.0714,
				22.2225,
				22.3232,
				22.2829,
				22.2124,
				22.1822,
				22.1822,
				22.3433,
				22.4642,
				22.1621,
				21.7693,
				21.3464,
				20.9537,
				21.0745,
				21.1853,
				21.3363,
				21.4572,
				21.5579,
				21.6384,
				21.7492,
				21.9808,
				22.1016,
				22.2930,
				22.5649,
				22.9777,
				23.3000,
				23.5517,
				23.4107,
				23.3604,
				23.3402,
				23.5114,
				23.2395,
				22.7159,
				22.2124,
				21.7391,
				21.4773,
				21.4471,
				21.5276,
				21.5579,
				21.5981,
				21.6183,
				21.6686,
				21.6586,
				21.6686,
				21.6787,
				21.7290,
				21.7995,
				21.8600,
				22.0211,
				22.2124,
				22.1419,
				22.2728,
				22.3232,
				22.2527,
				22.2426,
				22.0312,
				21.9808,
				21.8902,
				21.6283,
				21.4773,
				21.4974,
				21.5579,
				21.6988,
				21.7492,
				21.8499,
				21.9103,
				21.9909,
				22.0211,
				22.0412,
				22.0916,
				22.0916,
				22.2829,
				22.3131,
				22.4541,
				22.7159,
				22.9777,
				23.2295,
				23.2295,
				23.4913,
				23.1892,
				23.1086,
				22.7562,
				22.1117,
				21.9103,
				21.8600,
				21.9305,
				21.9909,
				22.0916,
				22.1419,
				22.2225,
				22.2930,
				22.4037,
				22.4239,
				22.2527,
				22.5749,
				22.6857,
				22.6051,
				23.1288,
				23.4812,
				23.6021,
				23.5215,
				22.8569,
				22.9979,
				22.8670,
				22.8972,
				22.7965,
				22.3131,
				21.8096,
				21.6787,
				21.7089,
				21.8801,
				21.9808,
				22.0312,
				22.1319,
				22.1721,
				22.2023,
				22.3836,
				22.4642,
				22.5447,
				22.6353,
				22.7663,
				22.8972,
				23.0382,
				23.1288,
				23.0583,
				22.9979,
				23.1187,
				22.9375,
				22.7461,
				22.4541,
				22.0211,
				21.4773,
				21.5478,
				21.6586,
				21.7995,
				21.8902,
				22.0009,
				22.1419,
				22.2930,
				22.4541,
				22.6152,
				22.7864,
				22.9677,
				23.1086,
				23.3000,
				23.3302,
				23.2899,
				23.1590,
				23.1590,
				23.1892,
				23.0382,
				22.7864,
				22.5850,
				22.0412,
				21.7693,
				21.8801,
				22.0009,
				22.1319,
				22.2426,
				22.3433,
				22.4541,
				22.5649,
				22.6555,
				22.7663,
				22.9274,
				23.1791,
				23.4208,
				23.5114,
				23.4510,
				23.4712,
				23.4107,
				23.4107,
				23.5215,
				23.4409,
				23.1993,
				22.8367,
				22.2930,
				22.3433,
				22.4742,
				22.6051,
				22.7663,
				22.9274,
				23.0885,
				23.2698,
				23.4913,
				23.7028,
				23.9243,
				24.2667,
				24.7400,
				25.0119,
				25.1025,
				25.1226,
				25.1025,
				25.2133,
				25.5859,
				25.5758,
				24.9716,
				24.6091,
				24.6292,
				24.3271,
				24.4580,
				24.5386,
				24.7098,
				24.7903,
				24.9011,
				25.0119,
				25.1025,
				25.1931,
				25.2536,
				25.4046,
				25.6564,
				25.9484,
				26.1397,
				26.2001,
				26.2102,
				25.7671,
				25.7268,
				25.2838,
				24.8608,
				24.4177,
				24.0854,
				23.6222,
				23.4913,
				23.5819,
				23.6222,
				23.6726,
				23.7229,
				23.7833,
				23.8437,
				23.9142,
				23.9847,
				24.0552,
				24.0854,
				24.2063,
				24.3170,
				24.3775,
				24.3472,
				24.1761,
				23.9646,
				23.8740,
				23.7733,
				23.5819,
				23.1993,
				22.3836,
				22.3131,
				22.4642,
				22.6152,
				22.6555,
				22.7663,
				22.8166,
				22.8871,
				22.9375,
				22.9979,
				23.0079,
				23.0885,
				23.1892,
				23.3805,
				23.4409,
				23.4107,
				23.2698,
				23.1086,
				23.0079,
				23.0079,
				22.7461,
				22.2527,
				21.7693,
				21.2255,
				21.2658,
				21.3766,
				21.4572,
				21.5478,
				21.5981,
				21.6787,
				21.7693,
				21.8600,
				21.9607,
				22.0412,
				22.1822,
				22.5447,
				22.7461,
				23.0482,
				23.3302,
				23.4107,
				23.1892,
				23.2194,
				22.7864,
				22.4944,
				21.6988,
				21.1551,
				20.4300,
				19.9869,
				19.9869,
				20.1682,
				20.2488,
				20.3293,
				20.3897,
				20.5005,
				20.8429,
				21.1148,
				21.5679,
				22.1319,
				21.8499,
				21.8096,
				22.0412,
				21.9909,
				21.7492,
				21.7492,
				21.4773,
				21.3061,
				21.0745,
				21.6283,
				20.5408,
				19.5640,
				18.5570,
				18.6879,
				18.8692,
				19.0202,
				19.3022,
				19.4230,
				19.5237,
				19.6647,
				19.7453,
				19.8258,
				19.9265,
				19.4532,
				20.7925,
				20.6818,
				20.5811,
				20.5811,
				20.5307,
				20.3293,
				20.1078,
				19.7553,
				19.3928,
				19.1612,
				19.2619,
				19.2720,
				19.3425,
				19.4834,
				19.6446,
				19.9265,
				20.1380,
				20.2588,
				20.3897,
				20.5005,
				20.6415,
				20.9033,
				21.0745,
				21.0443,
				21.3464,
				20.9738,
				21.1349,
				21.1953,
				21.1349,
				20.8227,
				20.5307,
				20.3595,
				20.3998,
				20.5811,
				20.7523,
				20.8429,
				20.9134,
				21.0141,
				21.1148,
				21.1853,
				21.2960,
				21.4471,
				21.6686,
				22.1319,
				22.4339,
				22.5749,
				22.7461,
				22.6051,
				22.1419,
				22.1419,
				22.2225,
				21.5478,
				20.6012,
				21.2558,
				20.6616,
				19.7352,
				19.8762,
				19.9970,
				20.1179,
				20.3192,
				20.4703,
				20.6415,
				20.8731,
				21.2054,
				21.6384,
				21.9808,
				22.2023,
				22.2930,
				"END"
				);
			HUMIDITY_Buf=new Array(
				48.3668,
				47.8666,
				48.0252,
				47.5373,
				47.5983,
				48.3546,
				48.0252,
				47.7569,
				47.2994,
				47.0554,
				46.5002,
				46.3294,
				46.2807,
				46.3661,
				46.3904,
				46.2684,
				45.9146,
				45.2742,
				45.0911,
				45.1277,
				44.9020,
				44.2127,
				43.2062,
				43.9809,
				45.6950,
				47.6105,
				48.5010,
				49.4160,
				50.9288,
				52.2709,
				52.4417,
				52.7528,
				52.9113,
				53.2346,
				53.4542,
				53.7348,
				54.2229,
				54.1740,
				54.1862,
				54.1740,
				53.9544,
				53.4298,
				53.4664,
				53.4054,
				54.1862,
				54.7413,
				55.4062,
				55.5466,
				56.8092,
				58.5294,
				59.9385,
				61.4391,
				62.7933,
				63.8242,
				64.7088,
				65.0747,
				64.7697,
				64.8185,
				64.7941,
				64.5562,
				64.2452,
				63.8974,
				63.6656,
				63.4277,
				63.3423,
				63.6900,
				64.5684,
				65.0503,
				65.4834,
				60.9085,
				62.0065,
				61.5855,
				61.6465,
				61.0182,
				59.7128,
				57.3400,
				56.9190,
				56.5164,
				55.3208,
				54.6194,
				54.1252,
				53.3200,
				53.0211,
				52.2952,
				51.5144,
				50.7580,
				49.9894,
				49.6235,
				48.8792,
				48.5864,
				47.2994,
				46.6466,
				45.6218,
				44.8167,
				44.7922,
				42.6268,
				42.2546,
				40.7723,
				41.3640,
				42.6633,
				43.8467,
				43.9931,
				43.7248,
				43.6394,
				43.2794,
				43.2429,
				43.7369,
				43.7858,
				43.6881,
				44.0907,
				44.9570,
				44.6824,
				44.7556,
				45.1399,
				43.3038,
				41.4250,
				42.5657,
				43.4869,
				44.2981,
				44.9203,
				45.3961,
				44.7800,
				44.7922,
				45.3717,
				46.2440,
				46.1464,
				46.0611,
				46.0489,
				46.4636,
				46.4148,
				46.2562,
				46.0366,
				45.8171,
				45.6585,
				45.3961,
				45.3474,
				45.6096,
				45.5608,
				45.5730,
				45.4083,
				45.0545,
				46.4393,
				46.5247,
				45.4206,
				45.9512,
				45.0057,
				43.8345,
				43.8955,
				44.5482,
				44.1152,
				44.0053,
				44.1517,
				44.1517,
				44.0663,
				44.2616,
				44.4873,
				44.3470,
				44.1395,
				44.2127,
				44.1762,
				44.5116,
				45.3107,
				45.2497,
				44.7556,
				45.0424,
				44.2493,
				44.4995,
				44.9325,
				44.9813,
				43.7369,
				44.7313,
				45.3351,
				45.0667,
				44.6459,
				44.3103,
				43.9444,
				43.8589,
				43.7248,
				43.7369,
				43.6637,
				43.8467,
				44.4323,
				44.2737,
				44.1152,
				44.4080,
				45.1888,
				45.3596,
				45.4083,
				44.8167,
				43.8589,
				43.2916,
				43.3648,
				43.9077,
				45.0424,
				45.0667,
				44.8045,
				44.5482,
				44.4202,
				44.1762,
				44.0298,
				43.8101,
				43.4747,
				43.1574,
				42.9134,
				42.5169,
				41.8703,
				41.3885,
				41.1932,
				41.1932,
				41.2664,
				41.0591,
				39.9855,
				39.0765,
				39.0400,
				38.4055,
				37.3075,
				37.9724,
				37.9724,
				37.5271,
				36.9538,
				36.9171,
				37.3075,
				37.9114,
				39.1619,
				40.3514,
				40.4002,
				40.8943,
				41.2542,
				41.2786,
				40.1196,
				40.1806,
				38.8875,
				40.2051,
				39.3449,
				39.3694,
				38.1371,
				36.5816,
				36.0876,
				36.4962,
				36.3803,
				35.8984,
				35.4897,
				35.3800,
				35.1054,
				35.3800,
				35.5873,
				37.0391,
				38.3079,
				39.0277,
				39.1619,
				38.7532,
				38.6068,
				38.2469,
				37.4417,
				36.7159,
				37.8626,
				42.1753,
				41.6385,
				40.3148,
				39.0155,
				40.3027,
				39.9976,
				39.3937,
				38.9790,
				38.6068,
				38.3811,
				38.6557,
				39.2229,
				40.3514,
				41.6385,
				42.4437,
				42.7000,
				42.5414,
				42.6023,
				43.7248,
				45.2131,
				46.3539,
				44.9447,
				44.6459,
				45.1399,
				44.2249,
				43.1940,
				42.0900,
				43.1208,
				42.7243,
				42.1632,
				41.6751,
				40.9553,
				40.0464,
				39.3937,
				38.6434,
				38.5703,
				38.6190,
				38.7166,
				38.4543,
				38.0883,
				37.2099,
				35.1298,
				33.7085,
				32.9338,
				31.1831,
				30.4694,
				30.2193,
				30.9086,
				32.3116,
				35.2884,
				36.5816,
				36.8806,
				36.2217,
				36.7646,
				37.4906,
				38.0335,
				38.3446,
				38.7411,
				38.2225,
				38.8264,
				37.8871,
				37.2099,
				37.3563,
				36.0876,
				34.1294,
				31.5552,
				32.4580,
				34.8554,
				34.8675,
				36.1973,
				37.1489,
				38.1005,
				40.1928,
				42.8341,
				44.8045,
				45.2131,
				44.8777,
				44.7800,
				44.5727,
				44.1639,
				44.5116,
				44.0298,
				43.8712,
				43.7735,
				43.0354,
				43.1208,
				39.1009,
				39.1741,
				39.4852,
				39.9855,
				39.9976,
				40.6625,
				41.8825,
				43.7735,
				43.5722,
				42.7122,
				42.5779,
				42.7487,
				40.9859,
				40.6381,
				40.7235,
				41.0224,
				41.6264,
				40.7723,
				38.1982,
				36.5938,
				36.2095,
				35.5386,
				35.7154,
				35.8740,
				36.2217,
				37.8626,
				39.1497,
				40.9066,
				42.1021,
				42.8463,
				43.8345,
				44.1152,
				44.5238,
				45.4693,
				45.5853,
				44.7313,
				43.9321,
				42.5901,
				42.0411,
				41.7117,
				41.3153,
				40.7113,
				40.0952,
				39.2595,
				38.8143,
				38.0883,
				37.5271,
				37.7772,
				38.0457,
				38.3446,
				37.7406,
				39.1009,
				44.2005,
				38.5825,
				39.8695,
				40.9859,
				39.4974,
				39.0033,
				38.4787,
				37.6003,
				36.9659,
				36.8927,
				36.5938,
				36.4048,
				36.2949,
				36.4048,
				40.1562,
				41.7971,
				"END"
				);
			DATETIME_Buf=new Array(
				"2018-04-09 11:58:04",
				"2018-04-09 10:53:04",
				"2018-04-09 09:53:03",
				"2018-04-09 08:53:04",
				"2018-04-09 07:53:03",
				"2018-04-09 06:53:03",
				"2018-04-09 05:53:04",
				"2018-04-09 04:53:04",
				"2018-04-09 03:53:03",
				"2018-04-09 02:53:04",
				"2018-04-09 01:53:04",
				"2018-04-09 00:53:03",
				"2018-04-08 23:53:04",
				"2018-04-08 22:53:03",
				"2018-04-08 21:54:03",
				"2018-04-08 20:54:04",
				"2018-04-08 19:54:03",
				"2018-04-08 18:54:04",
				"2018-04-08 17:56:04",
				"2018-04-08 16:56:04",
				"2018-04-08 15:56:04",
				"2018-04-08 14:56:03",
				"2018-04-08 13:56:04",
				"2018-04-08 12:56:04",
				"2018-04-08 11:56:03",
				"2018-04-08 10:56:04",
				"2018-04-08 09:56:03",
				"2018-04-08 08:56:03",
				"2018-04-08 07:56:04",
				"2018-04-08 06:56:03",
				"2018-04-08 05:56:04",
				"2018-04-08 04:56:04",
				"2018-04-08 03:56:03",
				"2018-04-08 02:56:03",
				"2018-04-08 01:56:04",
				"2018-04-08 00:56:04",
				"2018-04-07 23:56:03",
				"2018-04-07 22:56:04",
				"2018-04-07 21:56:04",
				"2018-04-07 20:56:03",
				"2018-04-07 19:56:04",
				"2018-04-07 18:56:04",
				"2018-04-07 17:56:03",
				"2018-04-07 16:56:04",
				"2018-04-07 15:56:03",
				"2018-04-07 14:56:03",
				"2018-04-07 13:56:04",
				"2018-04-07 12:56:04",
				"2018-04-07 11:56:03",
				"2018-04-07 10:56:04",
				"2018-04-07 09:56:04",
				"2018-04-07 08:56:03",
				"2018-04-07 07:56:03",
				"2018-04-07 06:56:04",
				"2018-04-07 05:56:03",
				"2018-04-07 04:56:03",
				"2018-04-07 03:56:03",
				"2018-04-07 02:56:04",
				"2018-04-07 01:56:03",
				"2018-04-07 00:56:03",
				"2018-04-06 23:56:04",
				"2018-04-06 22:56:03",
				"2018-04-06 21:56:03",
				"2018-04-06 20:56:04",
				"2018-04-06 19:56:04",
				"2018-04-06 18:56:03",
				"2018-04-06 17:56:04",
				"2018-04-06 16:56:04",
				"2018-04-06 15:56:03",
				"2018-04-06 14:56:03",
				"2018-04-06 13:56:03",
				"2018-04-06 12:56:04",
				"2018-04-06 11:56:03",
				"2018-04-06 10:56:03",
				"2018-04-06 09:56:04",
				"2018-04-06 08:56:03",
				"2018-04-06 07:56:03",
				"2018-04-06 06:56:04",
				"2018-04-06 05:56:03",
				"2018-04-06 04:56:03",
				"2018-04-06 03:56:04",
				"2018-04-06 02:56:03",
				"2018-04-06 01:56:03",
				"2018-04-06 00:56:04",
				"2018-04-05 23:56:03",
				"2018-04-05 22:56:04",
				"2018-04-05 21:56:04",
				"2018-04-05 20:56:03",
				"2018-04-05 19:56:04",
				"2018-04-05 18:56:03",
				"2018-04-05 17:56:04",
				"2018-04-05 16:56:04",
				"2018-04-05 15:56:03",
				"2018-04-05 14:56:04",
				"2018-04-05 13:56:03",
				"2018-04-05 12:56:03",
				"2018-04-05 11:56:04",
				"2018-04-05 10:56:03",
				"2018-04-05 09:56:04",
				"2018-04-05 08:56:03",
				"2018-04-05 07:56:04",
				"2018-04-05 06:56:03",
				"2018-04-05 05:56:03",
				"2018-04-05 04:56:04",
				"2018-04-05 03:56:03",
				"2018-04-05 02:56:04",
				"2018-04-05 01:56:04",
				"2018-04-05 00:56:03",
				"2018-04-04 23:56:04",
				"2018-04-04 22:56:03",
				"2018-04-04 21:56:03",
				"2018-04-04 20:56:04",
				"2018-04-04 19:56:03",
				"2018-04-04 18:56:04",
				"2018-04-04 17:56:03",
				"2018-04-04 16:56:04",
				"2018-04-04 15:56:03",
				"2018-04-04 14:56:04",
				"2018-04-04 13:56:03",
				"2018-04-04 12:56:04",
				"2018-04-04 11:56:03",
				"2018-04-04 10:56:04",
				"2018-04-04 09:56:04",
				"2018-04-04 08:56:03",
				"2018-04-04 07:56:04",
				"2018-04-04 06:56:03",
				"2018-04-04 05:56:03",
				"2018-04-04 04:56:04",
				"2018-04-04 03:56:03",
				"2018-04-04 02:56:03",
				"2018-04-04 01:56:04",
				"2018-04-04 00:56:03",
				"2018-04-03 23:56:03",
				"2018-04-03 22:56:04",
				"2018-04-03 21:56:03",
				"2018-04-03 20:56:04",
				"2018-04-03 19:56:04",
				"2018-04-03 18:56:03",
				"2018-04-03 17:56:04",
				"2018-04-03 16:54:04",
				"2018-04-03 15:49:03",
				"2018-04-03 14:44:03",
				"2018-04-03 13:39:03",
				"2018-04-03 12:35:03",
				"2018-04-03 11:33:04",
				"2018-04-03 10:28:04",
				"2018-04-03 09:24:03",
				"2018-04-03 08:19:03",
				"2018-04-03 07:15:04",
				"2018-04-03 06:12:03",
				"2018-04-03 05:06:03",
				"2018-04-03 04:03:04",
				"2018-04-03 03:00:03",
				"2018-04-03 01:57:04",
				"2018-04-03 00:53:03",
				"2018-04-02 23:50:03",
				"2018-04-02 22:48:04",
				"2018-04-02 21:44:03",
				"2018-04-02 20:41:04",
				"2018-04-02 19:38:03",
				"2018-04-02 18:34:04",
				"2018-04-02 17:30:03",
				"2018-04-02 16:27:04",
				"2018-04-02 15:22:03",
				"2018-04-02 14:19:04",
				"2018-04-02 13:15:03",
				"2018-04-02 12:09:03",
				"2018-04-02 11:07:03",
				"2018-04-02 10:03:04",
				"2018-04-02 08:57:04",
				"2018-04-02 07:52:03",
				"2018-04-02 06:49:04",
				"2018-04-02 05:47:03",
				"2018-04-02 04:43:04",
				"2018-04-02 03:41:03",
				"2018-04-02 02:36:04",
				"2018-04-02 01:32:03",
				"2018-04-02 00:27:04",
				"2018-04-01 23:23:03",
				"2018-04-01 22:17:03",
				"2018-04-01 21:14:04",
				"2018-04-01 20:11:03",
				"2018-04-01 19:07:04",
				"2018-04-01 18:00:04",
				"2018-04-01 16:55:03",
				"2018-04-01 15:52:04",
				"2018-04-01 14:47:03",
				"2018-04-01 13:44:04",
				"2018-04-01 12:41:03",
				"2018-04-01 11:38:04",
				"2018-04-01 10:35:03",
				"2018-04-01 09:31:04",
				"2018-04-01 08:29:03",
				"2018-04-01 07:26:04",
				"2018-04-01 06:23:03",
				"2018-04-01 05:18:04",
				"2018-04-01 04:15:03",
				"2018-04-01 03:11:04",
				"2018-04-01 02:05:04",
				"2018-04-01 01:01:03",
				"2018-03-31 23:58:04",
				"2018-03-31 22:53:03",
				"2018-03-31 21:47:04",
				"2018-03-31 20:42:04",
				"2018-03-31 19:39:03",
				"2018-03-31 18:35:04",
				"2018-03-31 17:33:04",
				"2018-03-31 16:29:03",
				"2018-03-31 15:25:04",
				"2018-03-31 14:21:03",
				"2018-03-31 13:18:04",
				"2018-03-31 12:13:03",
				"2018-03-31 11:10:04",
				"2018-03-31 10:08:03",
				"2018-03-31 09:05:04",
				"2018-03-31 08:01:03",
				"2018-03-31 06:55:04",
				"2018-03-31 05:50:04",
				"2018-03-31 04:45:03",
				"2018-03-31 03:42:04",
				"2018-03-31 02:38:03",
				"2018-03-31 01:35:04",
				"2018-03-31 00:30:04",
				"2018-03-30 23:25:03",
				"2018-03-30 22:20:04",
				"2018-03-30 21:16:03",
				"2018-03-30 20:13:04",
				"2018-03-30 19:10:03",
				"2018-03-30 18:06:04",
				"2018-03-30 17:02:03",
				"2018-03-30 15:58:03",
				"2018-03-30 14:54:04",
				"2018-03-30 13:50:03",
				"2018-03-30 12:46:04",
				"2018-03-30 11:41:03",
				"2018-03-30 10:37:04",
				"2018-03-30 09:35:03",
				"2018-03-30 08:32:04",
				"2018-03-30 07:28:03",
				"2018-03-30 06:24:04",
				"2018-03-30 05:21:03",
				"2018-03-30 04:16:04",
				"2018-03-30 03:13:03",
				"2018-03-30 02:11:04",
				"2018-03-30 01:08:03",
				"2018-03-30 00:02:03",
				"2018-03-29 22:59:04",
				"2018-03-29 21:54:03",
				"2018-03-29 20:48:03",
				"2018-03-29 19:45:04",
				"2018-03-29 18:42:03",
				"2018-03-29 17:37:03",
				"2018-03-29 16:34:03",
				"2018-03-29 15:32:04",
				"2018-03-29 14:27:03",
				"2018-03-29 13:21:03",
				"2018-03-29 12:17:04",
				"2018-03-29 11:16:04",
				"2018-03-29 10:13:03",
				"2018-03-29 09:10:04",
				"2018-03-29 08:06:03",
				"2018-03-29 07:02:04",
				"2018-03-29 05:58:03",
				"2018-03-29 04:55:04",
				"2018-03-29 03:50:03",
				"2018-03-29 02:47:04",
				"2018-03-29 01:44:03",
				"2018-03-29 00:41:04",
				"2018-03-28 23:38:03",
				"2018-03-28 22:34:04",
				"2018-03-28 21:31:03",
				"2018-03-28 20:27:04",
				"2018-03-28 19:24:03",
				"2018-03-28 18:17:03",
				"2018-03-28 17:12:04",
				"2018-03-28 16:08:03",
				"2018-03-28 15:02:03",
				"2018-03-28 13:59:04",
				"2018-03-28 12:55:03",
				"2018-03-28 11:48:04",
				"2018-03-28 10:44:03",
				"2018-03-28 09:40:04",
				"2018-03-28 08:34:04",
				"2018-03-28 07:28:03",
				"2018-03-28 06:25:04",
				"2018-03-28 05:20:04",
				"2018-03-28 04:15:03",
				"2018-03-28 03:12:04",
				"2018-03-28 02:09:03",
				"2018-03-28 01:06:04",
				"2018-03-28 00:00:04",
				"2018-03-27 22:57:03",
				"2018-03-27 21:54:04",
				"2018-03-27 20:48:04",
				"2018-03-27 19:45:03",
				"2018-03-27 18:42:04",
				"2018-03-27 17:37:04",
				"2018-03-27 16:33:03",
				"2018-03-27 15:30:04",
				"2018-03-27 14:27:03",
				"2018-03-27 13:24:04",
				"2018-03-27 12:19:04",
				"2018-03-27 11:16:03",
				"2018-03-27 10:11:04",
				"2018-03-27 09:06:04",
				"2018-03-27 08:02:03",
				"2018-03-27 06:59:04",
				"2018-03-27 05:53:04",
				"2018-03-27 04:49:03",
				"2018-03-27 03:46:04",
				"2018-03-27 02:42:03",
				"2018-03-27 01:40:04",
				"2018-03-27 00:38:04",
				"2018-03-26 23:35:03",
				"2018-03-26 22:31:04",
				"2018-03-26 21:26:03",
				"2018-03-26 20:19:03",
				"2018-03-26 19:18:03",
				"2018-03-26 18:14:04",
				"2018-03-26 17:09:04",
				"2018-03-26 16:06:03",
				"2018-03-26 15:03:03",
				"2018-03-26 13:57:03",
				"2018-03-26 12:55:03",
				"2018-03-26 11:50:03",
				"2018-03-26 10:46:04",
				"2018-03-26 09:42:03",
				"2018-03-26 08:38:04",
				"2018-03-26 07:34:03",
				"2018-03-26 06:27:03",
				"2018-03-26 05:23:04",
				"2018-03-26 04:21:03",
				"2018-03-26 03:17:04",
				"2018-03-26 02:14:03",
				"2018-03-26 01:10:04",
				"2018-03-26 00:07:03",
				"2018-03-25 23:02:03",
				"2018-03-25 21:55:03",
				"2018-03-25 20:53:03",
				"2018-03-25 19:50:04",
				"2018-03-25 18:47:03",
				"2018-03-25 17:43:04",
				"2018-03-25 16:40:03",
				"2018-03-25 15:36:04",
				"2018-03-25 14:31:03",
				"2018-03-25 13:26:03",
				"2018-03-25 12:22:04",
				"2018-03-25 11:19:03",
				"2018-03-25 10:16:04",
				"2018-03-25 09:11:03",
				"2018-03-25 08:05:03",
				"2018-03-25 06:59:03",
				"2018-03-25 05:55:04",
				"2018-03-25 04:51:03",
				"2018-03-25 03:48:04",
				"2018-03-25 02:43:04",
				"2018-03-25 01:40:03",
				"2018-03-25 00:34:04",
				"2018-03-24 23:31:03",
				"2018-03-24 22:28:04",
				"2018-03-24 21:24:03",
				"2018-03-24 20:19:03",
				"2018-03-24 19:16:04",
				"2018-03-24 18:13:03",
				"2018-03-24 17:09:04",
				"2018-03-24 16:06:03",
				"2018-03-24 15:00:03",
				"2018-03-24 13:57:04",
				"2018-03-24 12:54:03",
				"2018-03-24 11:49:04",
				"2018-03-24 10:41:04",
				"2018-03-24 09:35:04",
				"2018-03-24 08:32:03",
				"2018-03-24 07:29:04",
				"2018-03-24 06:23:04",
				"2018-03-24 05:19:03",
				"2018-03-24 04:15:04",
				"2018-03-24 03:11:04",
				"2018-03-24 02:04:04",
				"2018-03-24 00:59:03",
				"2018-03-23 23:55:04",
				"2018-03-23 22:50:04",
				"2018-03-23 21:48:04",
				"2018-03-23 20:44:03",
				"2018-03-23 19:39:03",
				"2018-03-23 18:37:04",
				"2018-03-23 17:32:03",
				"2018-03-23 16:26:03",
				"2018-03-23 15:23:04",
				"2018-03-23 14:18:04",
				"2018-03-23 13:15:03",
				"2018-03-23 12:12:04",
				"2018-03-23 11:10:03",
				"2018-03-23 10:08:04",
				"2018-03-23 09:04:03",
				"2018-03-23 07:59:04",
				"2018-03-23 06:53:04",
				"2018-03-23 05:47:04",
				"2018-03-23 04:43:03",
				"2018-03-23 03:36:03",
				"2018-03-23 02:32:03",
				"2018-03-23 01:26:03",
				"2018-03-23 00:19:03",
				"2018-03-22 23:16:04",
				"2018-03-22 22:10:03",
				"2018-03-22 21:05:04",
				"2018-03-22 20:01:04",
				"2018-03-22 18:58:04",
				"2018-03-22 17:51:04",
				"2018-03-22 16:47:04",
				"END"
				);
			//var timer = setInterval(refresh(evt),100);
			//ARROWS ▶ ◀ ▲ ▼
			var Debug=false;
			//Preset
			var Device=0;//0: Desktop; 1:Mobile; 2:Mobile_Horizational_Orentation 3:Tablet

			//PRE_DEFINED VALUES
			var chart=document.getElementById("TH_Chart");
			var ctx=chart.getContext("2d");
				ctx.save();
			var devicePixelRatio = window.devicePixelRatio || 1;
			var backingStoreRatio = ctx.webkitBackingStorePixelRatio ||
								ctx.mozBackingStorePixelRatio ||
								ctx.msBackingStorePixelRatio ||
								ctx.oBackingStorePixelRatio ||
								ctx.backingStorePixelRatio || 1;
			var ratio = devicePixelRatio / backingStoreRatio;
			var Default_L_limit_max=[26279,26279,26279];
			var Default_R_limit_min=[0,0,0];
			var Default_Pedding_len=[14*ratio,14*ratio,14*ratio];
			var Default_marker_WIDTH=[40*ratio,60*ratio,40*ratio];
			var Default_Scale_Index=[1,2,1.5,1];
			var Default_max_T=[28,28,28,28];
			var Default_min_T=[18,18,18,18];
			var Default_max_H=[65,65,65,65];
			var Default_min_H=[35,30,30,35];
			var Default_L_limit=[120,60,120,120];
			var Default_R_limit=[0,0,0,0];
			var Default_H_Lines=[5,4,4,5];
			var Default_V_Lines=[20,8,10,20];
			var Default_Mark_line_len=[5*ratio,5*ratio,5*ratio,5*ratio];
			var Default_Mark_line_wid=[2*ratio,2*ratio,2*ratio,2*ratio];
			var Default_side_spacing =[5*ratio,5*ratio,5*ratio,5*ratio];
			var Default_golbal_line_width =[0.8*ratio,0.8*ratio,0.8*ratio,0.5*ratio];
			//Appearence Preset

			//Will Be changed later:
			var L_limit_max=26279;
			var R_limit_min=0;
			var Pedding_len=0;
			var marker_WIDTH=0;
			var Scale_Index=0;
			var max_T=0;
			var min_T=0;
			var max_H=0;
			var min_H=0;
			var L_limit=0;
			var R_limit=0;
			var H_Lines=0;
			var V_Lines=0;
			var Mark_line_len=0;
			var Mark_line_wid=0;
			var side_spacing =0;
			var golbal_line_width=0;

			var chart_ratio=0;
			var Grid_length=0;
			var Mouse_Position_Flag=0;
			var Mouse_Down_Flag=0; //0:None 1:Center_Area 2:Left_Marker 3:Rlght_Marker 4:Bottom_Marker 5:Bottom Axis Line
			var HEIGHT=0
			var HEIGHT_Chart=0;
			var HEIGHT_Container=0;
			var WIDTH=0;

			//VARIABLES
			var x=0;
			var y=0;
			var org_x=0;
			var org_y=0;
			var org_L=0;
			var org_R=0;
			var org_max_T=0;
			var org_min_T=0;
			var org_max_H=0;
			var org_min_H=0;

			//Style Preset
			TEMP_Color="#FF6600"
			TEMP_BKG_Color="#FFDDAA"
			TEMP_OnGrag_Color="#FFBB66"
			HUMIDITY_Color="#00AAFF"
			HUMIDITY_BKG_Color="#DDEEFF"
			HUMIDITY_OnGrag_Color="#BBDDFF"
			On_Outside_Drag_Clolr="#CCCCCC"

			var vaild_n=0

			window.onresize= RESET ;

			if (navigator.userAgent.indexOf("iPhone")>0)
			{
				try
				{
					window.addEventListener("orientationchange", RESET , false)
				}
				catch(err)
				{
					;
				}
			}

			document.oncontextmenu=function (){return false;}

			chart.onmousedown = function (evt) 
			{
				x = (evt.pageX-chart.offsetLeft)*ratio;
				y = (evt.pageY-chart.offsetTop)*ratio;
				org_x = x;
				org_y = y;
				org_L = L_limit;
				org_R = R_limit;
				org_max_T = max_T;
				org_min_T = min_T;
				org_max_H = max_H;
				org_min_H = min_H;

				Mouse_Down_Flag=get_area_id(org_x,org_y);		

				refresh();
			}

			chart.onmouseup = function (evt) 
			{
				x = (evt.pageX-chart.offsetLeft)*ratio;
				y = (evt.pageY-chart.offsetTop)*ratio;
				Mouse_Down_Flag=0;
				refresh();
			}
			
			chart.onmousemove = function (evt)
			{
				if(evt.which==0)
				{
					Mouse_Down_Flag=0;
				}
				refresh_evt(evt);
			}

			chart.ontouchstart = function (evt) 
			{
				x = (evt.pageX-chart.offsetLeft)*ratio;
				y = (evt.pageY-chart.offsetTop)*ratio;
				org_x = x;
				org_y = y;
				org_L = L_limit;
				org_R = R_limit;
				org_max_T = max_T;
				org_min_T = min_T;
				org_max_H = max_H;
				org_min_H = min_H;

				Mouse_Down_Flag=get_area_id(org_x,org_y);		

				refresh();
			}

			chart.ontouchend = function (evt)
			{
				x = (evt.pageX-chart.offsetLeft)*ratio;
				y = (evt.pageY-chart.offsetTop)*ratio;
				Mouse_Down_Flag=0;
				refresh();
			}

			chart.ontouchmove= function (evt)
			{
				evt.preventDefault();	
				x = (evt.pageX-chart.offsetLeft)*ratio;
				y = (evt.pageY-chart.offsetTop)*ratio;
    			if(
    				get_area_id(x,y)==2
    				|| get_area_id(x,y)==3
    				|| Mouse_Down_Flag==2
    				|| Mouse_Down_Flag==3
    				) 
				{
					window.event.returnValue = false;
    			}
    			else
    			{
    				window.event.returnValue = true;
    			}
    			refresh (evt);
			}

			function refresh_evt(evt)
			{
				x = (evt.pageX-chart.offsetLeft)*ratio;
				y = (evt.pageY-chart.offsetTop)*ratio;
				refresh();
			}

			function graph_grid_gen(ctx)
			{
				//Graph Grid Drawing
				//------------------------
				ctx.strokeStyle="#666666";
				ctx.lineWidth = 0.4 * ratio * Scale_Index;
				ctx.beginPath();

				//Horizontal Grid
				for (var i=0; i<=H_Lines; i++)
				{ 
					ctx.moveTo(0,i*Grid_length);
					ctx.lineTo(WIDTH,i*Grid_length);
				}

				//Vertial Grid
				for (var i=0; i<=V_Lines; i++)
				{ 
					ctx.moveTo(i*Grid_length,0);
					ctx.lineTo(i*Grid_length,HEIGHT_Chart);
				}

				ctx.stroke();
			}

			function graph_content_gen(ctx)
			{
				//Graph Content Drawing
				//---------------------
				//DRAW TEMPERATURE CHART:
				ctx.strokeStyle=TEMP_Color;
				ctx.lineWidth = golbal_line_width;
				ctx.beginPath();
				ctx.moveTo(WIDTH,HEIGHT_Chart*(1-(TEMP_Buf[R_limit]-min_T)/(max_T-min_T)));
				for (var i=R_limit;i<=L_limit;i++)
				{ 
					var val=TEMP_Buf[i];
					if (val>max_T) val=max_T;
					if (val<min_T) val=min_T;
					ctx.lineTo(WIDTH-(i-R_limit)*(WIDTH/(L_limit-R_limit)),HEIGHT_Chart*(1-(val-min_T)/(max_T-min_T)));
				}
				ctx.stroke();

				//DRAW HUMIDITY CHART:
				ctx.strokeStyle=HUMIDITY_Color;
				ctx.lineWidth = golbal_line_width;
				ctx.beginPath();
				ctx.moveTo(WIDTH,HEIGHT_Chart*(1-(HUMIDITY_Buf[R_limit]-min_H)/(max_H-min_H)));
				for (var i=R_limit;i<=L_limit;i++)
				{ 
					var val=HUMIDITY_Buf[i];
					if (val>max_H) val=max_H;
					if (val<min_H) val=min_H;
					ctx.lineTo(WIDTH-(i-R_limit)*(WIDTH/(L_limit-R_limit)),HEIGHT_Chart*(1-(val-min_H)/(max_H-min_H)));
				}
				ctx.stroke();
			}

			function assistline_gen(position_x)
			{
				ctx.save();
				var data_tag=Math.floor(L_limit-position_x/(WIDTH/(L_limit-R_limit))+0.5)

				//Vertical assistline
				if(Mouse_Down_Flag==1)
				{
					ctx.strokeStyle="#00CACA";
					ctx.lineWidth = 1.5;
					if(ratio==2) ctx.lineWidth = 3;
				}
				else if(Mouse_Down_Flag==0)
				{
					ctx.strokeStyle="#00CACA";
					ctx.setLineDash([10,8]);
					ctx.lineWidth = 1;
					if(ratio==2) ctx.lineWidth = 2;
				}
				ctx.beginPath();
				ctx.moveTo(position_x,0);
				ctx.lineTo(position_x,HEIGHT_Chart);
				ctx.stroke();
				ctx.restore();
				
				//Horizational Temperature assistline
				ctx.strokeStyle=TEMP_Color;
				ctx.setLineDash([5,5]);
				ctx.lineWidth = 0.5;
				if(ratio==2) ctx.lineWidth = 1;
				var TEMP_Data_axis_Y=HEIGHT_Chart*(1-(TEMP_Buf[data_tag]-min_T)/(max_T-min_T));

				ctx.beginPath();
				ctx.moveTo(0,TEMP_Data_axis_Y);
				ctx.lineTo(WIDTH,TEMP_Data_axis_Y);
				ctx.stroke();
				ctx.restore();

				//Horizational Humidity assistline
				ctx.strokeStyle=HUMIDITY_Color;
				ctx.setLineDash([5,5]);
				ctx.lineWidth = 0.5;
				if(ratio==2) ctx.lineWidth = 1;
				var HUMIDITY_Data_axis_Y=HEIGHT_Chart*(1-(HUMIDITY_Buf[data_tag]-min_H)/(max_H-min_H));

				ctx.beginPath();
				ctx.moveTo(0,HUMIDITY_Data_axis_Y);
				ctx.lineTo(WIDTH,HUMIDITY_Data_axis_Y);
				ctx.stroke();
				ctx.restore();

				//Data Tag Drawing
				//Temperature
				ctx.textAlign="left";
				ctx.textBaseline="top";
				ctx.fillStyle=TEMP_Color;
				ctx.font="bold italic "+font_size_uni_str(12)+" Arial";

				var axis_x=position_x;
				var axis_y=TEMP_Data_axis_Y;
				var horizational_space=4;
				var vertical_space=4;

				if ((WIDTH-axis_x)<(Grid_length*1.5))
				{
					ctx.textAlign="right";
					horizational_space=-4;
				}

				if ((HEIGHT_Chart-axis_y)<Grid_length)
				{
					ctx.textBaseline="bottom";
					vertical_space=-4;
				}

				ctx.fillText(TEMP_Buf[data_tag].toString(),axis_x+horizational_space*ratio,axis_y+vertical_space*ratio);
				ctx.restore();

				//Humidity
				ctx.textAlign="left";
				ctx.textBaseline="top";
				ctx.strokeStyle = "#FFFFFF";
				ctx.fillStyle=HUMIDITY_Color;
				ctx.font="bold italic "+font_size_uni_str(12)+" Arial";

				var axis_x=position_x;
				var axis_y=HUMIDITY_Data_axis_Y;
				var horizational_space=4;
				var vertical_space=4;

				if ((WIDTH-axis_x)<(Grid_length*1.5))
				{
					ctx.textAlign="right";
					horizational_space=-4;
				}

				if ((HEIGHT_Chart-axis_y)<Grid_length)
				{
					ctx.textBaseline="bottom";
					vertical_space=-4;
				}

				ctx.fillText(HUMIDITY_Buf[data_tag].toString(), axis_x+horizational_space*ratio, axis_y+vertical_space*ratio);
				ctx.restore();

				//Humidity
				ctx.textAlign="left";
				ctx.strokeStyle = "#00CACA";
				ctx.fillStyle="#AAAAAA";
				ctx.font=font_size_uni_str(10)+" Arial";

				var ts_dt=DATETIME_Buf[data_tag].split(" ")[0];
				var ts_ms=DATETIME_Buf[data_tag].split(" ")[1];
				var axis_x=position_x;
				var axis_y=Math.ceil(HEIGHT_Chart-Grid_length/3);
				var horizational_space=4;
				var vertical_space=4;

				if ((WIDTH-axis_x)<(Grid_length*1.5))
				{
					ctx.textAlign="right";
					horizational_space=-4;
				}

				ctx.textBaseline="bottom";
				ctx.fillText(ts_dt, axis_x+horizational_space*ratio, axis_y+vertical_space*ratio);
				ctx.textBaseline="top";
				ctx.fillText(ts_ms, axis_x+horizational_space*ratio, axis_y+vertical_space*ratio);
				ctx.restore();
				ctx.setLineDash([]);
			}

			function graph_highlight(ctx)
			{
				if(Mouse_Down_Flag==0)
				{
					if(Mouse_Position_Flag==2)
					{
						ctx.fillStyle=TEMP_BKG_Color;
						ctx.fillRect(0,0,marker_WIDTH,HEIGHT_Chart);
					}
					}
					if(Mouse_Position_Flag==3)
					{
						ctx.fillStyle=HUMIDITY_BKG_Color;
						ctx.fillRect(WIDTH-marker_WIDTH,0,WIDTH,HEIGHT_Chart);
				}
				if(Mouse_Down_Flag==2)
				{
					if(Mouse_Position_Flag==2)
					{
						ctx.fillStyle=TEMP_OnGrag_Color;
						ctx.fillRect(0,0,marker_WIDTH,HEIGHT_Chart);
					}
					if(Mouse_Position_Flag==1)
					{
						ctx.fillStyle=On_Outside_Drag_Clolr;
						ctx.fillRect(0,0,marker_WIDTH,HEIGHT_Chart);
					}
				}
				if(Mouse_Down_Flag==3)
				{
					if(Mouse_Position_Flag==3)
					{
						ctx.fillStyle=HUMIDITY_OnGrag_Color;
						ctx.fillRect(WIDTH-marker_WIDTH,0,WIDTH,HEIGHT_Chart);
					}
					if(Mouse_Position_Flag==1)
					{
						ctx.fillStyle=On_Outside_Drag_Clolr;
						ctx.fillRect(WIDTH-marker_WIDTH,0,WIDTH,HEIGHT_Chart);
					}
				}
			}

			function graph_marker_gen(ctx)
			{
				//Changing Variables
				var Padding_space=0;
				//Left Marker -- TENPERATURE
				ctx.textAlign="left";
				ctx.fillStyle=TEMP_Color;
				ctx.font="Bold "+font_size_uni_str(12)+" Arial";
				var max_Marker=max_T;
				var min_Marker=min_T;
				for (var i=0; i<=H_Lines; i++)
				{
					ctx.textBaseline="middle";
					if(i==0) ctx.textBaseline="top";
					if(i==H_Lines) ctx.textBaseline="bottom";
					var MARK=min_Marker+((H_Lines-i)/(H_Lines))*(max_Marker-min_Marker);
					ctx.fillText(format_F(MARK,2),0+side_spacing*ratio,i*Grid_length);
				}

				//Left Mark lines
				ctx.strokeStyle=TEMP_Color;
				ctx.beginPath();
				ctx.lineWidth=Mark_line_wid;
				ctx.moveTo(Mark_line_wid/2,0);
				ctx.lineTo(Mark_line_wid/2,HEIGHT_Chart);
				ctx.stroke();
				for (var i=0; i<=H_Lines; i++)
				{
					ctx.beginPath();
					Padding_space=0;
					if(i==0) Padding_space=Mark_line_wid/2;
					if(i==H_Lines) Padding_space=-Mark_line_wid/2;
					ctx.lineWidth=Mark_line_wid;
					ctx.moveTo(0+Mark_line_wid,i*Grid_length+Padding_space);
					ctx.lineTo(Mark_line_len+Mark_line_wid,i*Grid_length+Padding_space);
					ctx.stroke();
					if(i<H_Lines)
					{
						for(var j=1;j<5;j++)
						{
							ctx.lineWidth=Math.floor(Mark_line_wid/2);
							ctx.beginPath();
							ctx.moveTo(0+Mark_line_wid,i*Grid_length+j*Grid_length/5);
							ctx.lineTo(Mark_line_len/1.5+Mark_line_wid,i*Grid_length+j*Grid_length/5);
							ctx.stroke();
						}
					}
				}
				ctx.stroke();


				//Right Marker -- HUMIDITY
				ctx.textAlign="right";
				ctx.fillStyle=HUMIDITY_Color;
				ctx.font="Bold "+font_size_uni_str(12)+" Arial";
				var max_Marker=max_H;
				var min_Marker=min_H;
				for (var i=0; i<=H_Lines; i++)
				{
					ctx.textBaseline="middle";
					if(i==0) ctx.textBaseline="top";
					if(i==H_Lines) ctx.textBaseline="bottom";
					var MARK=min_Marker+((H_Lines-i)/(H_Lines))*(max_Marker-min_Marker);
					ctx.fillText(format_F(MARK,2),WIDTH-side_spacing*ratio,i*Grid_length);
				}
				//Right Mark lines
				ctx.strokeStyle=HUMIDITY_Color;
				ctx.beginPath();
				ctx.lineWidth=Mark_line_wid;
				ctx.moveTo(WIDTH-Mark_line_wid/2,0);
				ctx.lineTo(WIDTH-Mark_line_wid/2,HEIGHT_Chart);
				ctx.stroke();
				for (var i=0; i<=H_Lines; i++)
				{
					ctx.beginPath();
					Padding_space=0;
					if(i==0) Padding_space=Mark_line_wid/2;
					if(i==H_Lines) Padding_space=-Mark_line_wid/2;
					ctx.lineWidth=Mark_line_wid;
					ctx.moveTo(WIDTH-Mark_line_wid,i*Grid_length+Padding_space);
					ctx.lineTo(WIDTH-Mark_line_len-Mark_line_wid,i*Grid_length+Padding_space);
					ctx.stroke();
					if(i<H_Lines)
					{
						for(var j=1;j<5;j++)
						{
							ctx.lineWidth=Math.floor(Mark_line_wid/2);
							ctx.beginPath();
							ctx.moveTo(WIDTH-Mark_line_wid,i*Grid_length+j*Grid_length/5);
							ctx.lineTo(WIDTH-Mark_line_len/1.5-Mark_line_wid,i*Grid_length+j*Grid_length/5);
							ctx.stroke();
						}
					}
				}
				ctx.stroke();

				//Buttom Marker -- Date Time
				ctx.fillStyle="#666666";
				ctx.font="Bold "+font_size_uni_str(12)+" Arial";
				var max_Marker=L_limit;
				var min_Marker=R_limit;
				var Marker_Count=5;
				var height_axis=0;
				for (var i=0; i<=Marker_Count; i++)
				{
					height_axis=Math.floor(HEIGHT_Chart+HEIGHT_Container/10);
					ctx.textAlign="center";
					if(i==0) ctx.textAlign="left";
					if(i==Marker_Count) ctx.textAlign="right";
					ctx.textBaseline="top";
					var MARK=min_Marker+(1-i/(Marker_Count))*(max_Marker-min_Marker);
					if(Math.floor(MARK)<=0)
					{
						ctx.font="Bold "+font_size_uni_str(12)+" Arial";
						ctx.fillText("NOW",i*WIDTH/Marker_Count,height_axis);
						height_axis+=(HEIGHT_Container/10+font_size_uni(12));
						ctx.font="Bold "+font_size_uni_str(8)+" Arial";
						ctx.fillText("Real Time",i*WIDTH/Marker_Count,height_axis);
					}
					else
					{
						ctx.font="Bold "+font_size_uni_str(12)+" Arial";
						ctx.fillText(Math.ceil(MARK-0.00000001).toString(),i*WIDTH/Marker_Count,height_axis);
						height_axis+=(HEIGHT_Container/10+font_size_uni(12));
						ctx.font="Bold "+font_size_uni_str(8)+" Arial";
						ctx.fillText("Hours Ago",i*WIDTH/Marker_Count,height_axis);
					}
				}
				ctx.restore();
			}

			function graph_mouse_track(ctx)
			{
				if(
					(( Mouse_Position_Flag==1 || Mouse_Position_Flag==5) 
					&& ( Mouse_Down_Flag==0 || Mouse_Down_Flag==1 || Mouse_Down_Flag==5 )
					|| (Mouse_Down_Flag==0 && (Mouse_Position_Flag==2 || Mouse_Position_Flag==3)))
				   )
				{
					assistline_gen(x);
				}
				if (Debug)
				{
					var Pedding=commom_DBG();
					var MARK="X"+x.toString()+" Y"+y.toString();
					ctx.fillText(MARK,WIDTH/2,Grid_length+Pedding);
					Pedding+=Pedding_len;
				}
			}

			function graph_clear()
			{
				chart.width=WIDTH.toString();
				chart.height=HEIGHT.toString();
			}

			function graph_gen()
			{
				chart=document.getElementById("TH_Chart");
				ctx=chart.getContext("2d");
				ctx.save();

				graph_highlight(ctx);
				ctx.restore();

				graph_grid_gen(ctx);
				ctx.restore();

				graph_content_gen(ctx);
				ctx.restore();

				graph_mouse_track(ctx);
				ctx.restore();

				graph_marker_gen(ctx);
				ctx.restore();

				if(Debug) commom_DBG();

				return ctx;
			}

			function refresh()
			{
				if(Mouse_Position_Flag!=get_area_id(x,y))
				{
					org_x = x;
					org_y = y;
					org_L = L_limit;
					org_R = R_limit;
					org_max_T = max_T;
					org_min_T = min_T;
					org_max_H = max_H;
					org_min_H = min_H;
				}
				Mouse_Position_Flag=get_area_id(x,y)

				//Main Graph Area Drag (Move,Horizational)
				if(Mouse_Down_Flag==1 && Mouse_Position_Flag==1)
				{
					var distence=(org_x-x)*(org_R-org_L)/WIDTH;
					var New_L=Math.floor(org_L+distence);
					var New_R=Math.floor(org_R+distence);
					if(New_L>L_limit_max)
					{
						New_R-=(New_L-L_limit_max);
						New_L=L_limit_max;
					}
					if(New_R<R_limit_min)
					{
						New_L+=(R_limit_min-New_R);
						New_R=R_limit_min;
					}		
					if(New_L>L_limit_max) New_L=L_limit_max;
					L_limit=New_L;
					R_limit=New_R;
				}

				//Left Marker Area Drag (Move,Vertiacl)
				if(Mouse_Down_Flag==2 && Mouse_Position_Flag==2)
				{
					var distence=((org_max_T-org_min_T)*(y-org_y)/HEIGHT_Chart);
					var New_Max=org_max_T+distence;
					var New_Min=org_min_T+distence;
					max_T=New_Max;
					min_T=New_Min;
				}

				//Left Marker Area Drag (Scale,Vertiacl)
				if(Mouse_Down_Flag==2 && Mouse_Position_Flag==1)
				{
					var distence=((org_max_T-org_min_T)*(y-org_y)/HEIGHT_Chart);
					var New_Max=org_max_T+distence;
					var New_Min=org_min_T-distence;
					if (New_Max<New_Min)
					{
						var temp=New_Max;
						New_Max=New_Min;
						New_Min=temp;
					}
					max_T=New_Max;
					min_T=New_Min;
				}

				//Right Marker Area Drag (Move,Vertiacl)
				//_____________________________________
				if(Mouse_Down_Flag==3 && Mouse_Position_Flag==3)
				{
					var distence=((org_max_H-org_min_H)*(y-org_y)/HEIGHT_Chart);
					var New_Max=org_max_H+distence;
					var New_Min=org_min_H+distence;
					max_H=New_Max;
					min_H=New_Min;
				}

				//Right Marker Area Drag (Scale,Vertiacl)
				//_____________________________________
				if(Mouse_Down_Flag==3 && Mouse_Position_Flag==1)
				{
					var distence=((org_max_H-org_min_H)*(y-org_y)/HEIGHT_Chart);
					var New_Max=org_max_H+distence;
					var New_Min=org_min_H-distence;
					if (New_Max<New_Min)
					{
						var temp=New_Max;
						New_Max=New_Min;
						New_Min=temp;
					}
					max_H=New_Max;
					min_H=New_Min;				}

				//Bottom Marker Area Drag (Scale,Horizational)
				//_____________________________________
				if(Mouse_Down_Flag==4 && (Mouse_Position_Flag==4 ||Mouse_Position_Flag==5 ||Mouse_Position_Flag==1))
				{
					var distence=Math.ceil((x-org_x)*ratio/(WIDTH/(L_limit-R_limit)));
					var New_L=org_L+distence;
					var New_R=org_R-distence;
					if (New_L>L_limit_max) New_L=L_limit_max;
					if (New_R<R_limit_min) New_R=R_limit_min;
					if (New_L<New_R)
					{
						var temp=New_L;
						New_L=New_R;
						New_R=temp;
					}
					L_limit=New_L;
					R_limit=New_R;
				}
				if (L_limit>L_limit_max) L_limit=L_limit_max;
				if (R_limit<R_limit_min) R_limit=R_limit_min;
				graph_clear();
				graph_gen();
			}

			RESET_ALL();
			graph_gen();
		//<!--######################################################################################-->
			function font_size_uni_str(size_def)
			{
				return font_size_uni(size_def).toString()+"px";
			}

			function font_size_uni(size_def)
			{
				return Math.ceil(size_def*ratio*Scale_Index);
			}

			function get_area_id(ax,ay)
			{
				if ( ay>=(HEIGHT_Chart-4) && ay<=(HEIGHT_Chart+HEIGHT_Container) )
		   		{
		   			if(ay>(HEIGHT_Chart+5))return 4;
		   			else return 5;
		   		}
				else if(ay<=HEIGHT_Chart && ay>Grid_length/6 && ax>0 && ax<WIDTH)
				{
					if(ax<=marker_WIDTH) return 2;
					else if(ax<=WIDTH-marker_WIDTH) return 1;
					else return 3;
				}
				return 0;

			}

			function format_F(x,n)
			{
				var minus_flag=x>0?false:true;
				x=x>0?x:-x;
				int_x=Math.floor(x);
				x-=int_x;
				for (var i=0;i<n;i++) x*=10;
				flo_x=Math.floor(x);
				if (n<=0) return int_x.toString();
				return int_x.toString()+"."+flo_x.toString();
			}

			function commom_DBG()
			{

				var Pedding=0;
				ctx.fillStyle="#000";
				ctx.font=font_size_uni_str(12)+" Arial thin";
				ctx.textAlign="center";
				ctx.textBaseline="top";

				var MARK="▶ In Debug Mode ◀";
				ctx.fillText(MARK,WIDTH/2,Grid_length+Pedding);
				Pedding+=Pedding_len;

				var MARK="ratio "+ratio.toString()+" Device "+Device.toString();
				ctx.fillText(MARK,WIDTH/2,Grid_length+Pedding);
				Pedding+=Pedding_len;

				var MARK="offsetLeft "+chart.offsetLeft.toString()+" offsetTop "+chart.offsetTop.toString();
				ctx.fillText(MARK,WIDTH/2,Grid_length+Pedding);
				Pedding+=Pedding_len;

				var MARK="  L_limit_max "+L_limit_max.toString()+
						 "  R_limit_min "+R_limit_min.toString()+
						 "  Pedding_len "+Pedding_len.toString()+
						 "  marker_WIDTH "+marker_WIDTH.toString()+
						 "  chart_ratio "+chart_ratio.toString();
				ctx.fillText(MARK,WIDTH/2,Grid_length+Pedding);
				Pedding+=Pedding_len;

				var MARK="  max_T "+max_T.toString()+
						 "  min_T "+min_T.toString()+
						 "  max_H "+max_H.toString()+
						 "  min_H "+min_H.toString();
				ctx.fillText(MARK,WIDTH/2,Grid_length+Pedding);
				Pedding+=Pedding_len;


				var MARK="  L_limit "+L_limit.toString()+
						 "  R_limit "+R_limit.toString()+
						 "  H_Lines "+H_Lines.toString()+
						 "  V_Lines "+V_Lines.toString();
				ctx.fillText(MARK,WIDTH/2,Grid_length+Pedding);
				Pedding+=Pedding_len;

				var MARK="Mouse Down "+Mouse_Down_Flag.toString()+"  Mouse Pos "+Mouse_Position_Flag.toString();
				ctx.fillText(MARK,WIDTH/2,Grid_length+Pedding);
				Pedding+=Pedding_len;

				var MARK="Html_Width "+document.getElementById("TH_Table").offsetWidth+"  Html_Height "+document.getElementById("TH_Table").offsetHight;
				ctx.fillText(MARK,WIDTH/2,Grid_length+Pedding);
				Pedding+=Pedding_len;

				var MARK="Width "+WIDTH.toString()+"  Height "+HEIGHT_Chart.toString();
				ctx.fillText(MARK,WIDTH/2,Grid_length+Pedding);
				Pedding+=Pedding_len;

				return Pedding;
			}

			function DBG_addStr(str,Pedding)
			{
				var MARK=str;
				ctx.fillText(MARK,WIDTH/2,Grid_length+Pedding);
				Pedding+=Pedding_len;

				return Pedding;
			}

			function L_limit_ADD(length)
			{
				L_limit+=length;
				refresh();
			}
			
			function R_limit_ADD(length)
			{
				R_limit+=length;
				refresh();
			}

			function  MOVE_LEFT(length)
			{
				var val_R=R_limit;
				var val_L=L_limit;
				if((val_L+length)>L_limit_max)
				{
					val_R+=(L_limit_max-val_L);
					val_L=L_limit_max;
					L_limit=val_L;
					R_limit=val_R;
					refresh();
				}
				else
				{
					L_limit_ADD(length);
					R_limit_ADD(length);
					refresh();
				}
			}

			function  MOVE_RIGHT(length)
			{
				var val_R=R_limit;
				var val_L=L_limit;
				if((val_R-length)<R_limit_min)
				{
					val_L-=(val_R-R_limit_min);
					val_R=R_limit_min;
					L_limit=val_L;
					R_limit=val_R;
					refresh();
				}
				else
				{
					L_limit_txt_WDR(length);
					R_limit_txt_WDR(length);
					refresh();
				}
			}

			function RESET_ALL()
			{		
				RESET();	
				max_T=Default_max_T[Device];
				min_T=Default_min_T[Device];
				max_H=Default_max_H[Device];
				min_H=Default_min_H[Device];
				L_limit=Default_L_limit[Device];
				R_limit=Default_R_limit[Device];
				RESET();
			}
			function RESET()
			{
				Device=0;

				if ( 
				navigator.userAgent.indexOf("iPhone")>0 
				|| navigator.userAgent.indexOf("UCWEB")>0 
				|| navigator.userAgent.indexOf("Android")>0 
				|| navigator.userAgent.indexOf("android")>0
				)Device=1;

				if ( 
				navigator.userAgent.indexOf("iPad")>0 
				)Device=3;

				if (navigator.userAgent.indexOf("iPhone")>0) 
					{
						try
						{
							if (window.orientation==90 || window.orientation==-90)
							{
								Device=2;
							}
						}
						catch(err)
						{
							;
						}
					}

				Scale_Index=Default_Scale_Index[Device];
				L_limit_max=Default_L_limit_max[Device];
				R_limit_min=Default_R_limit_min[Device];
				Pedding_len=Default_Pedding_len[Device];
				marker_WIDTH=Default_marker_WIDTH[Device]*Scale_Index;
				H_Lines=Default_H_Lines[Device];
				V_Lines=Default_V_Lines[Device];
				Mark_line_len=Default_Mark_line_len[Device]*Scale_Index;
				Mark_line_wid=Default_Mark_line_wid[Device]*Scale_Index;
				side_spacing =Default_side_spacing [Device]*Scale_Index;
				golbal_line_width = Default_golbal_line_width[Device]*Scale_Index;

				while ((typeof TEMP_Buf[vaild_n])=="number" && (typeof HUMIDITY_Buf[vaild_n])=="number")
				{
					vaild_n++;
				}
				L_limit_max=vaild_n;

				chart_ratio=(H_Lines+0.5*Scale_Index)/V_Lines;

				WIDTH=parseInt(document.getElementById("TH_Table").offsetWidth)*ratio;
				HEIGHT=Math.floor(WIDTH*chart_ratio);

				HEIGHT_Chart=Math.floor(HEIGHT*H_Lines/(H_Lines+0.5*Scale_Index));
				HEIGHT_Container=HEIGHT-HEIGHT_Chart;
				if (HEIGHT_Container<(65*Scale_Index) || true)
				{
					HEIGHT_Container=65*Scale_Index;
					HEIGHT=HEIGHT_Chart+HEIGHT_Container;
				}
				Grid_length=HEIGHT_Chart/H_Lines;

				chart.style.height=(Math.floor(HEIGHT/ratio)).toString()+"px";
				chart.width=WIDTH.toString();
				chart.height=HEIGHT.toString();

				//Debug=false;

				//document.getElementById("L_limit_txt").value=L_limit.toString();
				//document.getElementById("R_limit_txt").value=R_limit.toString();
				//document.getElementById("Max_Temp_txt").value=max_T.toString();
				//document.getElementById("Min_Temp_txt").value=min_T.toString();
				//document.getElementById("Max_Humidity_txt").value=max_H.toString();
				//document.getElementById("Min_Humidity_txt").value=min_H.toString();
				
				graph_gen();
			}

			function DBG_Switch()
			{
				Debug=!Debug;
				refresh();
			}
		</script>
	</body>
</html>